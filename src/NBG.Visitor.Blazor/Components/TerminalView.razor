@using NBG.Visitor.Storage.Dtos;
@using MudBlazor;
@implements IMainLayout;

<header>
    @header
</header>

<CascadingValue Value="this">
    <MudCarousel @ref="carousel" Style="height: 90vh; margin: 0;" AutoCycle="false" ShowArrows="false" ShowDelimiters="false" TData="object">
        <MudCarouselItem>
            <TerminalHome OnNext=@(() => carousel.Next()) />
        </MudCarouselItem>
        <MudCarouselItem>
            <TerminalRegister @ref="form" OnBack=@(() => carousel.Previous()) OnNext=@(() => carousel.Next()) />
        </MudCarouselItem>
        <MudCarouselItem>
            <TerminalSafety />
        </MudCarouselItem>
    </MudCarousel>
</CascadingValue>

<footer>
    @footer
</footer>

@code {
    private RenderFragment header;
    private MudCarousel<object> carousel;
    private RenderFragment footer;

    private TerminalRegister form;

    public void SetHeader(RenderFragment header)
    {
        this.header = header;
        StateHasChanged();
    }

    public void SetFooter(RenderFragment footer)
    {
        this.footer = footer;
        StateHasChanged();
    }
}
