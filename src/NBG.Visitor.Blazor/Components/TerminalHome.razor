@using MudBlazor;

@*DEBUG*@
@inject IDialogService DialogService;

<MudGrid Justify=Justify.Center>
    <MudItem lg=7>
        <MudGrid Justify=Justify.Center Style="text-align: center;">
            <MudItem xs=12>
                <MudText Typo="Typo.h1">@welcome</MudText>
            </MudItem>
            <MudItem xs=5>
                <MudButton Style="padding: 0;" OnClick=@(() => ChangeLang("DE"))><img class="flag" src="./_content/NBG.Visitor.Blazor/images/german.jpg"/></MudButton>
            </MudItem>
            <MudItem xs=5>
                <MudButton Style="padding: 0;" OnClick=@(() => ChangeLang("EN"))><img class="flag" src="./_content/NBG.Visitor.Blazor/images/english.jpg"/></MudButton>
            </MudItem>
            <MudItem xs=12>
                <MudButton OnClick=@(async () => await OnNext.InvokeAsync()) Variant=Variant.Filled Size=Size.Large EndIcon=@Icons.Outlined.ArrowForward Color=Color.Primary>@register</MudButton>
            </MudItem>
        </MudGrid>
    </MudItem>
</MudGrid>

<div @ref="Footer" class="footer">
    <MudGrid Justify=Justify.Center>
        <MudItem lg=4>
            <MudText Typo=Typo.h4 Style="color: #b71c1c">
                @sidenote
            </MudText>
        </MudItem>
    </MudGrid>
</div>

@code {
    [Parameter]
    public RenderFragment Footer { get; set; }
    [Parameter]
    public EventCallback OnNext { get; set; }

    // Placeholder for multiple languages
    string welcome = "Willkommen bei NBG";
    string register = "Registrieren";
    string sidenote = "Für Besucheranmeldung / -abmeldung Ticket scannen";

    public void ChangeLang(string to)
    {
        DialogService.Show<MudText>(to);
    }
}